<html>
<head>
<title>OAuth 2.0 Callback Handler</title>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
<script type="text/javascript" src="http://static.stackmob.com/js/json2-min.js"></script>
<script type="text/javascript" src="http://static.stackmob.com/js/underscore-1.3.3-min.js"></script>
<script type="text/javascript" src="http://static.stackmob.com/js/backbone-0.9.2-min.js"></script>
<script type="text/javascript" src="http://static.stackmob.com/js/stackmob-js-0.4.1-min.js"></script>

<script type="text/javascript">
  $(document).ready(function() {
  	
  	
  	window.parent.postMessage({
  		status: 'loaded',
  		content: 'wtf'
  	}, 'file://');
  	
  	StackMob.handleOAuthCallback({
  		success: function() {
  			window.parent.postMessage({
  				  status: 'success',
            type: 'oauth2',
            content: StackMob.getOAuthCredentials()
          }, "file://");
  		},
			error: function() {
				window.parent.postMessage({
						status: 'error',
						type: 'oauth2',
						content: 'Failed to get OAuth credentials'
					}, "file://");
			}  		
  	});
  });
</script>
</head>
<body>
</body>
</html>